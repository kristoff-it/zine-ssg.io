<!DOCTYPE html>
<html>
  <head id="head">
    <meta charset="UTF-8">
    <meta name="description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@croloris">
    <meta name="twitter:author" content="@croloris">
    <meta name="twitter:description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:title" content="Multilingual Websites | Zine">
    <meta property="og:title" content="Multilingual Websites">
    <meta property="og:type" content="website">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title id="title">
      Multilingual Websites
      - Zine
    </title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" type="text/css" href="/highlight.css">
    
  </head>
  <body>
    <nav id="menu" class="centered">
      <a href="/">Home</a>
      â€¢
      <a href="/quickstart/">Get Started</a>
      â€¢
      <a href="/documentation/">Docs</a>
      â€¢
      <a href="/community/">Vision & Community</a>
      â€¢
      <a href="/log/">Changelog</a>
      â€¢
      <a href="https://github.com/kristoff-it/zine" target="_blank">
        Code
      </a>
    </nav>
    <div id="content">
      
  <style>
    h1 {
       margin-top: 0;
     }
     h3 {
       margin-bottom: 0;
     }

		#docs h2, #docs h3 {
			text-align: left;
		}

		#docs h3 {
			font-size: 1.5rem;
		}

		#docs h2 {
			font-size: 1.5rem;
			border-bottom: 1px dashed #aaa;
			margin-top: 2em;
		}

		#docs h4 {
			font-size: 1rem;
		}
  </style>
  <h3 class="centered">Zine</h3>
  <h1 >Multilingual Websites</h1>
  <div id="docs" ><h2>Creating Multilingual Websites</h2><p>To create a multilingual website, use <code>addMultilingualWebsite</code> in your <code>build.zig</code>, like in the following example.</p><pre><code class="zig"><span class="type qualifier">const</span> <span class="variable">std</span> = <span class="function builtin">@import</span><span class="punctuation bracket">(</span><span class="string">"std"</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>
<span class="type qualifier">const</span> <span class="variable">zine</span> = <span class="function builtin">@import</span><span class="punctuation bracket">(</span><span class="string">"zine"</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>

<span class="attribute">pub</span> <span class="keyword function">fn</span> <span class="function">build</span><span class="punctuation bracket">(</span><span class="parameter">b</span><span class="punctuation delimiter">:</span> <span class="operator">*</span><span class="variable">std</span><span class="punctuation delimiter">.</span><span class="field">Build</span><span class="punctuation bracket">)</span> <span class="exception">!</span><span class="type builtin">void</span> <span class="punctuation bracket">{</span>
    <span class="variable">zine</span><span class="punctuation delimiter">.</span><span class="function">multilingualWebsite</span><span class="punctuation bracket">(</span><span class="variable">b</span><span class="punctuation delimiter">,</span> <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
        <span class="punctuation delimiter">.</span><span class="field">host_url</span> = <span class="string">"https://kristoff.it"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">layouts_dir_path</span> = <span class="string">"layouts"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">assets_dir_path</span> = <span class="string">"assets"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">i18n_dir_path</span> = <span class="string">"i18n"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">localized_variants</span> = <span class="operator">&</span><span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
            <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
                <span class="punctuation delimiter">.</span><span class="field">locale_code</span> = <span class="string">"en-US"</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="field">output_prefix_override</span> = <span class="string">""</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="field">title</span> = <span class="string">"Loris Cro's Blog"</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="field">content_dir_path</span> = <span class="string">"content/en-US"</span><span class="punctuation delimiter">,</span>
            <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>

            <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
                <span class="punctuation delimiter">.</span><span class="field">locale_code</span> = <span class="string">"it-IT"</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="field">title</span> = <span class="string">"Loris ðŸ¤Œ Cro's ðŸ¤Œ Blog"</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="field">content_dir_path</span> = <span class="string">"content/it-IT"</span><span class="punctuation delimiter">,</span>
            <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
        <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
    <span class="punctuation bracket">}</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>
<span class="punctuation bracket">}</span>
</code></pre>
<h3>Localized variants</h3><p>Each variant can define the following fields:</p><h4><code>locale_code</code></h4><p>A <code>language_NATION</code> string, e.g. <code>en-US</code>, <code>en-UK</code>, <code>it-IT</code>, <code>ja-JP</code>.</p><h4><code>title</code></h4><p>Site title for this variant.</p><h4><code>content_dir_path</code></h4><p>Content directory with translated versions of your content.</p><h4><code>host_url_override</code> (optional)</h4><p>The default assumption in Zine is that all your localized variants will be deployed on the same host, with each translation made available under a <code>locale_code</code> prefix:</p><ul><li><p><code>https://site.com/en-US/about/</code></p></li><li><p><code>https://site.com/it-IT/about/</code></p></li></ul><p>Some users might want instead to serve each translation from a different hostname:</p><ul><li><p><code>https://us.site.com/about/</code></p></li><li><p><code>https://it.site.com/about/</code></p></li></ul><p>Setting <code>host_url_override</code> for each localized variant will make Zine generate permalinks accordingly.</p><h4><code>output_prefix_override</code> (optional)</h4><p>This field can be used to override the path prefix for a localized variant. When <code>host_url_override</code> is set to null, the default prefix for each localized variant is <code>locale_code</code>. When <code>host_url_override</code> is set to a non-null value, the default prefix is "" (empty string).</p><p>You can set <code>output_prefix_override</code> to any string to place a localized variant under an arbitrary prefix. Setting it to an empty string is a good way of creating a "default variant" of the website.</p><p>For example by setting <code>ouptput_prefix_override</code> to empty string in <code>en_US</code> this is the resulting site layout:</p><ul><li><p><code>https://site.com/about/</code></p></li><li><p><code>https://site.com/it-IT/about/</code></p></li></ul><p>Here's a table with more examples:</p><style id="prefix_override">
  style#prefix_override + table {
    font-size: 0.9em;
  }
  style#prefix_override + table th {
    font-size: 1em;
  }
  style#prefix_override + table td {
    white-space: nowrap;
  }
</style>
<table>
<thead>
<tr>
<th align="center">output prefix override</th>
<th align="center">host url override</th>
<th align="left">resulting url prefix</th>
<th align="left">output prefix</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">null</td>
<td align="center">null</td>
<td align="left">/en-US/</td>
<td align="left">zig-out/en-US/</td>
</tr>
<tr>
<td align="center">null</td>
<td align="center">&quot;us.site.com&quot;</td>
<td align="left">/</td>
<td align="left">zig-out/en-US/</td>
</tr>
<tr>
<td align="center">&quot;foo&quot;</td>
<td align="center">null</td>
<td align="left">/foo/</td>
<td align="left">zig-out/foo/</td>
</tr>
<tr>
<td align="center">&quot;foo&quot;</td>
<td align="center">&quot;us.site.com&quot;</td>
<td align="left">/foo/</td>
<td align="left">zig-out/foo/</td>
</tr>
<tr>
<td align="center">&quot;&quot;</td>
<td align="center">null</td>
<td align="left">/</td>
<td align="left">zig-out/</td>
</tr>
</tbody>
</table>
<h3>The i18n Directory</h3><p>When creating a multilingual website, the assumption is that the same layouts and site assets will be reused across all localized variants, while the content folder will vary for each.</p><p>Varying the content folder will allow you to create different translations of your content, but that alone is not enough to provide translated versions of your site.</p><p>The <code>i18n</code> directory must contain a Ziggy file for each of your localized variants that will then be made available in order to provide translations for phrases present in your layouts.</p><p>Localized variants and translation files are matched using the <code>locale_code</code> field.</p><p><strong><code>$tree i18n</code></strong></p><pre><code>i18n
â”œâ”€â”€ en-US.ziggy
â””â”€â”€ it-IT.ziggy
</code></pre><p>Each file contains a Ziggy map that can then be accessed from your layouts as <code>$i18n</code>.</p><p><strong><code>$cat i18n/it-IT.ziggy</code></strong></p><pre><code class="ziggy"><span class="punctuation bracket">{</span>
 <span class="string">"back2top"</span>: <span class="string">"Ritorna in cima"</span><span class="punctuation delimiter">,</span>
 <span class="string">"hello"</span>: <span class="string">"Ciao {}!"</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>
</code></pre>
<p>Normal Scripty builtin functions are perfect for basic access to translations in layouts.</p><p><i><strong>translation with default value</strong></i></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">a</span> <span class="attribute">href</span>="<span class="string">#top</span>" <span class="attribute">var</span>="<span class="string">$i18n.get('back2top', 'Back to Top')</span>"<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">a</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><i><strong>error if translation is missing</strong></i></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">a</span> <span class="attribute">href</span>="<span class="string">#top</span>" <span class="attribute">var</span>="<span class="string">$i18n.get!('back2top')</span>"<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">a</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><i><strong>render element only if the key is present</strong></i></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">div</span> <span class="attribute">if</span>="<span class="string">$i18n.get?('back2top')</span>"<span class="punctuation bracket">&gt;</span>
  <span class="punctuation bracket">&lt;</span><span class="tag">a</span> <span class="attribute">href</span>="<span class="string">#top</span>" <span class="attribute">var</span>="<span class="string">$if</span>"<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">a</span><span class="punctuation bracket">&gt;</span>
<span class="punctuation bracket">&lt;/</span><span class="tag">div</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><i><strong>format translated entry</strong> (<code>fmt</code> is a string builtin)</i></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">p</span> <span class="attribute">var</span>="<span class="string">$i18n.get!('hello').fmt($page.author)</span>"<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">p</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<h3>Discovering translations</h3><p>To discover other translations for the same page, you can use <code>$page.translations()</code>. Refer to the Scripty reference to see how to use the resulting value.</p><p>Consider the following directory structure:</p><pre><code>content
â”œâ”€â”€ en-US
â”‚   â”œâ”€â”€ about.md
â”‚   â”œâ”€â”€ docs
â”‚   â”‚Â Â  â””â”€â”€ index.md
â”‚   â””â”€â”€ index.md
â””â”€â”€ it-IT
    â”œâ”€â”€ about.md
    â”œâ”€â”€ pasta.md
    â”œâ”€â”€ docs.md
    â””â”€â”€ index.md
</code></pre><ul><li><p><code>index.md</code> and <code>about.md</code> are both respectively matched with their corresponding translation because they have the same path (e.g. <code>en-US/about.md</code>, <code>it-IT/about.md</code>).</p></li><li><p><code>pasta.md</code> is not matched with any other page because it has a unique relative path.</p></li><li><p><code>docs.md</code> is not matched with any other page because, even though the resulting url path would be the same as <code>docs/index.md</code>, the <i>content path</i> is different.</p></li></ul><p>That said, it is possible to match any page with any other by setting <code>translation_key</code> in the Ziggy frontmatter of each page.</p><p>This last way of matching pages is meant to be used when URL paths are also translated, for example:</p><ul><li><p><code>https://site.com/en_US/contact-us/</code></p></li><li><p><code>https://site.com/it_IT/contattaci/</code></p></li></ul><p>The following frontmatter key must be set in both "contact us" pages:</p><pre><code class="ziggy">.<span class="keyword">translation_key</span> = <span class="string">"contact form"</span>
</code></pre>
<p>The translation key can be any string value, as long as it is unique per each localized variant.</p></div>

    </div>
  </body>
</html>