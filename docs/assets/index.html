<!DOCTYPE html>
<html>
  <head id="head">
    <meta charset="UTF-8">
    <meta name="description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@croloris">
    <meta name="twitter:author" content="@croloris">
    <meta name="twitter:description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:title" content="Assets | Zine">
    <meta name="twitter:image" content="https://zine-ssg.io/preview.png">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Assets | Zine">
    <meta property="og:image" content="https://zine-ssg.io/preview.png">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title id="title">
      Assets
      - Zine
    </title>
    <link rel="stylesheet" type="text/css" href="/fonts.css">
    <link rel="stylesheet" type="text/css" href="/fira_code.css">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" type="text/css" href="/highlight.css">
    
  </head>
  <body>
    <nav id="menu" class="centered">
      <a href="/">Home</a>
      •
      <a href="/quickstart/">Get Started</a>
      •
      <a href="/docs/">Documentation</a>
      •
      <a href="/community/">Community</a>
      •
      <a href="/log/">Devlog</a>
      •
      <a href="https://github.com/kristoff-it/zine" target="_blank">
        Code
      </a>
    </nav>
    <div id="content">
      
  <style>
    h1 {
		margin-top: 0;
	}

	#docs h1 {
       margin-top: 1.5em;
     }
     h3 {
       margin-bottom: 0;
     }

		#docs h2, #docs h3 {
			text-align: left;
		}

		#docs h3 {
			font-size: 1.5rem;
		}

		#docs h2 {
			font-size: 1.5rem;
			border-bottom: 1px dashed #aaa;
			margin-top: 2em;
		}

		#docs h4 {
			font-size: 1rem;
		}

  table {
    font-size: 0.9em;
  }
  table th {
    font-size: 1em;
  }
  table td {
    white-space: nowrap;
  }
  </style>
  <h3 class="centered">Zine</h3>
  <h1>Assets</h1>
  <div id="docs"><h2>Assets in Zine</h2><p>A Zine site can have 3 kinds of assets: <strong>site</strong>, <strong>page</strong>, and <strong>build</strong> assets.</p><div class="block"><h1>Note</h1><p>SuperMD and SuperHTML have different ways of accessing assets, make sure to read their respective documentation pages first.</p></div><h2>Site Assets</h2><p>These assets are located under <code>assets_dir_path</code>.</p><p>In SuperHTML, the main way of accessing site assets is by accessing them through an instance of Site: <code>$site.asset(&apos;logo.png&apos;)</code>.</p><p>Once you have an <code>Asset</code>, the main way to use it is by <code>link</code>ing it:</p><ul><li><code>$site.asset(&apos;logo.png&apos;).link()</code></li></ul><p><strong>Calling <code>link</code> on an asset will cause Zine to install it in the output directory.</strong> Conversely, accessing an asset <em>without</em> calling <code>link</code> on it will <strong>not</strong> cause it to be installed.</p><div class="block"><h1>SuperMD</h1><p>In SuperMD you can reference assets using the appropriate functions of <code>$link</code>, <code>$image</code> or <code>$video</code>. Referencing an asset in SuperMD will cause it to be installed just like it does for SuperHTML.</p></div><p>The SuperHTML Scripty reference page lists all other operations that can be performed on instances of <code>Asset</code>.</p><p>One example of where this makes sense is when you have a Ziggy (or JSON) document that you want to use to build a page, but that is not meant to be included the final output.</p><p><strong><code>songs-list.shtml</code></strong></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">ul</span> <span class="attribute">:loop</span>=&quot;<span class="string">$page.asset(&apos;songs.json&apos;).ziggy()</span>&quot;<span class="punctuation bracket">&gt;</span>
  <span class="punctuation bracket">&lt;</span><span class="tag">li</span> <span class="attribute">:text</span>=&quot;<span class="string">$loop.it.get(&apos;name&apos;)</span>&quot;<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">li</span><span class="punctuation bracket">&gt;</span>
<span class="punctuation bracket">&lt;/</span><span class="tag">ul</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<div class="block"><h1>NOTE</h1><p>Zine uses <a href="https://ziggy-lang.io" target="_blank">Ziggy</a> as its data serialization format of choice, but JSON documents happen to be a valid subset of Ziggy, so you can use them directly.</p></div><h3>Static Site Assets</h3><p>Some assets should be installed even if no layout or page refers to them.</p><p>For example <code>favicon.ico</code> might not be referenced, but browsers will automatically try to fetch it.</p><p>Another example could be <a href="https://en.wikipedia.org/wiki/Well-known_URI" target="_blank"><code>.well-known</code></a> assets or files that might have special meaning for the hosting service that you’re using.</p><p>For example, GitHub uses a file named <code>CNAME</code> to keep track of the custom domain configured for a given GitHub Pages website.</p><p>One last example would be font files only referenced inside of CSS files, as Zine currently lacks the ability to inspect CSS files.</p><p>To install assets unconditionally, list them in <code>static_assets</code> in your <code>build.zig</code>:</p><p><em><strong>build.zig</strong></em></p><pre><code class="zig"><span class="keyword modifier">pub</span> <span class="keyword function">fn</span> <span class="function">build</span><span class="punctuation bracket">(</span><span class="variable parameter">b</span><span class="punctuation delimiter">:</span> <span class="operator">*</span><span class="variable">std</span><span class="punctuation delimiter">.</span><span class="variable member">Build</span><span class="punctuation bracket">)</span> <span class="operator">!</span><span class="type builtin">void</span> <span class="punctuation bracket">{</span>
    <span class="variable">zine</span><span class="punctuation delimiter">.</span><span class="function call">website</span><span class="punctuation bracket">(</span><span class="variable">b</span><span class="punctuation delimiter">,</span> <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
        <span class="punctuation delimiter">.</span><span class="variable member">title</span> <span class="operator">=</span> <span class="string">&quot;Zine - Static Site Generator&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">host_url</span> <span class="operator">=</span> <span class="string">&quot;https://zine-ssg.io&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">layouts_dir_path</span> <span class="operator">=</span> <span class="string">&quot;layouts&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">content_dir_path</span> <span class="operator">=</span> <span class="string">&quot;content&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">assets_dir_path</span> <span class="operator">=</span> <span class="string">&quot;assets&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">static_assets</span> <span class="operator">=</span> <span class="operator">&amp;</span><span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
            <span class="comment">// Used by GitHub Pages</span>
            <span class="string">&quot;CNAME&quot;</span><span class="punctuation delimiter">,</span>
            <span class="comment">// This asset is referenced in some inlined HTML in Markdown</span>
            <span class="comment">// which Zine is not yet able to analyze so as a temporary</span>
            <span class="comment">// hack we mark it as a static asset.</span>
            <span class="string">&quot;vscode-autoformatting.mp4&quot;</span><span class="punctuation delimiter">,</span>

            <span class="comment">// Font referenced in CSS files</span>
            <span class="string">&quot;BebasNeue-Regular.ttf&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
    <span class="punctuation bracket">}</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>
<span class="punctuation bracket">}</span> 
</code></pre>
<h2>Page Assets</h2><p>Page assets are the same as site assets, but are located inside of <code>content_dir_path</code>, next to the page that references them.</p><p>If you have an asset that is specific to only a single page of your website, you can conveniently place it next to it inside the content directory, but beware of respecting the expected content structure.</p><p><em><strong>shell</strong></em></p><pre><code>content
├── blog
│   ├── first-post.smd
│   └── index.smd
└── index.smd
</code></pre><p>In Zine, pages that are not named <code>index.smd</code> (i.e. pages that don’t define a section) must keep their assets under a directory with the same name.</p><p><em><strong>shell</strong></em></p><pre><code>content
├── blog
│   ├── first-post
│   │   └── C.png
│   ├── first-post.smd
│   ├── B.png
│   └── index.smd
├── A.png
└── index.smd
</code></pre><ul><li><code>A.png</code> belongs to <code>content/index.smd</code></li><li><code>B.png</code> belongs to <code>content/blog/index.smd</code></li><li><code>C.png</code> belongs to <code>content/blog/first-post.smd</code></li></ul><p>Note how <code>C.png</code> lives under <code>content/blog/first-post/</code> because it belongs to a non-section page.</p><p>Accessing a page asset in SuperHTML can be done using <code>$page.asset(&apos;C.png&apos;)</code>. Like all assets, they must be <code>link</code>ed to be installed in the output directory.</p><h2>Build Assets</h2><p>If you have artifacts built using the Zig build system, you can use them in Zine by setting <code>build_assets</code> in your <code>build.zig</code>.</p><p>Accessing a build asset in SuperHTML can be done using <code>$build.asset(&apos;foo&apos;)</code>. Like all assets, they must be <code>link</code>ed to be installed in the output directory.</p><p>See the doc comments for <code>zine.BuildAsset</code> for more info.</p><div id="autosize"><h2><a class="" href="#autosize">Automatic Size Attributes</a></h2><p>To enable this feature, set <code>image_size_attributes = true</code> in your website’s <code>build.zig</code>.</p><p>When enabled, Zine will automatically add <code>height</code> and <code>width</code> attributes to the generated <code>&lt;img&gt;</code> elements of local images embedded in SuperMD documents.</p><p>Doing so will mean that the browser will be able to know the size of all images even before downloading them, completely removing the need for reflowing the page, and overall giving the impression of a faster page load, especially if a page has many heavy images in it.</p><h4>This feature has one big quirk:</h4><p>For some reason browsers will distort images that specify <code>height</code> and <code>width</code> then resizing them to fit their parent element. You can fix this by applying the following CSS “patch”:</p><pre><code class="css"><span class="tag">img</span> { <span class="property">height</span><span class="punctuation delimiter">:</span> <span class="variable">auto</span>; }
</code></pre>
<h2>Next Steps</h2><ul><li><p>Read the <a href="/docs/scripty/">SuperMD Basics page</a> to learn more about asset-related syntax in SuperMD.</p></li><li><p>Read the <a href="/docs/superhtml/scripty/">SuperHTML Scripty reference page</a> page to know what operations are available for assets and other kinds of data in SuperHTML. The <a href="/docs/superhtml/scripty/#Asset">Assets section</a> might be of particular interest.</p></li></ul></div></div>

    </div>
  </body>
</html>