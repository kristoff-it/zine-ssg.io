<!DOCTYPE html>
<html>
  <head id="head">
    <meta charset="UTF-8">
    <meta name="description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@croloris">
    <meta name="twitter:author" content="@croloris">
    <meta name="twitter:description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:title" content="Multilingual Websites | Zine">
    <meta name="twitter:image" content="https://zine-ssg.io/preview.png">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Multilingual Websites | Zine">
    <meta property="og:image" content="https://zine-ssg.io/preview.png">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title id="title">
      Multilingual Websites
      - Zine
    </title>
    <link rel="stylesheet" type="text/css" href="/fonts.css">
    <link rel="stylesheet" type="text/css" href="/fira_code.css">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" type="text/css" href="/highlight.css">
    
  </head>
  <body>
    <nav id="menu" class="centered">
      <a href="/">Home</a>
      ‚Ä¢
      <a href="/quickstart/">Get Started</a>
      ‚Ä¢
      <a href="/docs/">Documentation</a>
      ‚Ä¢
      <a href="/community/">Community</a>
      ‚Ä¢
      <a href="/log/">Devlog</a>
      ‚Ä¢
      <a href="https://github.com/kristoff-it/zine" target="_blank">
        Code
      </a>
    </nav>
    <div id="content">
      
  <style>
    h1 {
		margin-top: 0;
	}

	#docs h1 {
       margin-top: 1.5em;
     }
     h3 {
       margin-bottom: 0;
     }

		#docs h2, #docs h3 {
			text-align: left;
		}

		#docs h3 {
			font-size: 1.5rem;
		}

		#docs h2 {
			font-size: 1.5rem;
			border-bottom: 1px dashed #aaa;
			margin-top: 2em;
		}

		#docs h4 {
			font-size: 1rem;
		}

  table {
    font-size: 0.9em;
  }
  table th {
    font-size: 1em;
  }
  table td {
    white-space: nowrap;
  }
  </style>
  <h3 class="centered">Zine</h3>
  <h1>Multilingual Websites</h1>
  <div id="docs"><h2>Creating Multilingual Websites</h2><p>To create a multilingual website, use <code>multilingualWebsite</code> in your <code>build.zig</code>, like in the following example.</p><pre><code class="zig"><span class="keyword">const</span> <span class="variable">std</span> <span class="operator">=</span> <span class="keyword import">@import</span><span class="punctuation bracket">(</span><span class="string">&quot;std&quot;</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>
<span class="keyword">const</span> <span class="variable">zine</span> <span class="operator">=</span> <span class="keyword import">@import</span><span class="punctuation bracket">(</span><span class="string">&quot;zine&quot;</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>

<span class="keyword modifier">pub</span> <span class="keyword function">fn</span> <span class="function">build</span><span class="punctuation bracket">(</span><span class="variable parameter">b</span><span class="punctuation delimiter">:</span> <span class="operator">*</span><span class="variable">std</span><span class="punctuation delimiter">.</span><span class="variable member">Build</span><span class="punctuation bracket">)</span> <span class="operator">!</span><span class="type builtin">void</span> <span class="punctuation bracket">{</span>
    <span class="variable">zine</span><span class="punctuation delimiter">.</span><span class="function call">multilingualWebsite</span><span class="punctuation bracket">(</span><span class="variable">b</span><span class="punctuation delimiter">,</span> <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
        <span class="punctuation delimiter">.</span><span class="variable member">host_url</span> <span class="operator">=</span> <span class="string">&quot;https://kristoff.it&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">layouts_dir_path</span> <span class="operator">=</span> <span class="string">&quot;layouts&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">assets_dir_path</span> <span class="operator">=</span> <span class="string">&quot;assets&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">i18n_dir_path</span> <span class="operator">=</span> <span class="string">&quot;i18n&quot;</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="variable member">localized_variants</span> <span class="operator">=</span> <span class="operator">&amp;</span><span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
            <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
                <span class="punctuation delimiter">.</span><span class="variable member">locale_code</span> <span class="operator">=</span> <span class="string">&quot;en-US&quot;</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="variable member">output_prefix_override</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="variable member">title</span> <span class="operator">=</span> <span class="string">&quot;Loris Cro&apos;s Blog&quot;</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="variable member">content_dir_path</span> <span class="operator">=</span> <span class="string">&quot;content/en-US&quot;</span><span class="punctuation delimiter">,</span>
            <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>

            <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
                <span class="punctuation delimiter">.</span><span class="variable member">locale_code</span> <span class="operator">=</span> <span class="string">&quot;it-IT&quot;</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="variable member">title</span> <span class="operator">=</span> <span class="string">&quot;Loris ü§å Cro&apos;s ü§å Blog&quot;</span><span class="punctuation delimiter">,</span>
                <span class="punctuation delimiter">.</span><span class="variable member">content_dir_path</span> <span class="operator">=</span> <span class="string">&quot;content/it-IT&quot;</span><span class="punctuation delimiter">,</span>
            <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
        <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
    <span class="punctuation bracket">}</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>
<span class="punctuation bracket">}</span>
</code></pre>
<h2>Localized variants</h2><p>Each variant can define the following fields:</p><h4><code>locale_code</code></h4><p>A <code>language-NATION</code> string, e.g. <code>en-US</code>, <code>en-UK</code>, <code>it-IT</code>, <code>ja-JP</code>.</p><h4><code>title</code></h4><p>Site title for this variant.</p><h4><code>content_dir_path</code></h4><p>Content directory with localized versions of your content.</p><h4><code>host_url_override</code> (optional)</h4><p>The default assumption in Zine is that all your localized variants will be deployed on the same host, with each localization made available under a <code>locale_code</code> prefix:</p><ul><li><code>https://site.com/en-US/about/</code></li><li><code>https://site.com/it-IT/about/</code></li></ul><p>Some users might want instead to serve each localization from a different hostname:</p><ul><li><code>https://us.site.com/about/</code></li><li><code>https://it.site.com/about/</code></li></ul><p>Setting <code>host_url_override</code> for each localized variant will make Zine generate permalinks accordingly.</p><h4><code>output_prefix_override</code> (optional)</h4><p>This field can be used to override the path prefix for a localized variant. When <code>host_url_override</code> is set to null, the default prefix for each localized variant is <code>locale_code</code>. When <code>host_url_override</code> is set to a non-null value, the default prefix is <code>&quot;&quot;</code> (empty string).</p><p>You can set <code>output_prefix_override</code> to any string to place a localized variant under an arbitrary prefix. Setting it to an empty string is a good way of creating a ‚Äúdefault variant‚Äù of the website.</p><p>For example by setting <code>ouptput_prefix_override</code> to empty string in <code>en_US</code> this is the resulting site layout:</p><ul><li><code>https://site.com/about/</code></li><li><code>https://site.com/it-IT/about/</code></li></ul><p>Here‚Äôs a table with more examples:</p><table>
<thead>
<tr>
<th align="center">output prefix override</th>
<th align="center">host url override</th>
<th align="left">resulting url prefix</th>
<th align="left">output prefix</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">null</td>
<td align="center">null</td>
<td align="left">/en-US/</td>
<td align="left">zig-out/en-US/</td>
</tr>
<tr>
<td align="center">null</td>
<td align="center">‚Äúus.site.com‚Äù</td>
<td align="left">/</td>
<td align="left">zig-out/en-US/</td>
</tr>
<tr>
<td align="center">‚Äúfoo‚Äù</td>
<td align="center">null</td>
<td align="left">/foo/</td>
<td align="left">zig-out/foo/</td>
</tr>
<tr>
<td align="center">‚Äúfoo‚Äù</td>
<td align="center">‚Äúus.site.com‚Äù</td>
<td align="left">/foo/</td>
<td align="left">zig-out/foo/</td>
</tr>
<tr>
<td align="center">‚Äú‚Äù</td>
<td align="center">null</td>
<td align="left">/</td>
<td align="left">zig-out/</td>
</tr>
</tbody>
</table>
<h2>The i18n Directory</h2><p>When creating a multilingual website, the assumption is that the same layouts and site assets will be reused across all localized variants, while the content folder will vary for each.</p><div class="block"><h1>NOTE</h1><p>To have per-variant assets you can both create appropriate subdirectories in your site assets directory and also leverage page-local assets.</p></div><p>Varying the content folder will allow you to create different localizations of your content, but that alone is not enough to provide localizedd versions of your site.</p><p>The <code>i18n</code> directory must contain a Ziggy file for each of your localized variants that will then be made available in order to provide localizations for phrases present in your layouts.</p><p>Localized variants and their Ziggy file are matched using the <code>locale_code</code> field.</p><p><strong><code>$ tree i18n</code></strong></p><pre><code>i18n
‚îú‚îÄ‚îÄ en-US.ziggy
‚îî‚îÄ‚îÄ it-IT.ziggy
</code></pre><p>Each file contains a Ziggy map that can then be accessed from your layouts as <code>$i18n</code>.</p><p><strong><code>$ cat i18n/it-IT.ziggy</code></strong></p><pre><code class="ziggy"><span class="punctuation bracket">{</span>
 <span class="string">&quot;back2top&quot;</span>: <span class="string">&quot;Ritorna in cima&quot;</span><span class="punctuation delimiter">,</span>
 <span class="string">&quot;hello&quot;</span>: <span class="string">&quot;Ciao {}!&quot;</span><span class="punctuation delimiter">,</span>
<span class="punctuation bracket">}</span>
</code></pre>
<p>Normal Scripty builtin functions are perfect for basic access to translations in layouts.</p><p><em><strong><code>error if phrase is missing</code></strong></em></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">a</span> <span class="attribute">href</span>=&quot;<span class="string">#top</span>&quot; <span class="attribute">:text</span>=&quot;<span class="string">$i18n.get(&apos;back2top&apos;)</span>&quot;<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">a</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><em><strong><code>default value fallback</code></strong></em></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">a</span> <span class="attribute">href</span>=&quot;<span class="string">#top</span>&quot; <span class="attribute">:text</span>=&quot;<span class="string">$i18n.getOr(&apos;back2top&apos;, &apos;Top&apos;)</span>&quot;<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">a</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><em><strong><code>render element only if the phrase is present</code></strong></em></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">div</span> <span class="attribute">:if</span>=&quot;<span class="string">$i18n.get?(&apos;back2top&apos;)</span>&quot;<span class="punctuation bracket">&gt;</span>
  <span class="punctuation bracket">&lt;</span><span class="tag">a</span> <span class="attribute">href</span>=&quot;<span class="string">#top</span>&quot; <span class="attribute">:text</span>=&quot;<span class="string">$if</span>&quot;<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">a</span><span class="punctuation bracket">&gt;</span>
<span class="punctuation bracket">&lt;/</span><span class="tag">div</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><em><strong><code>format the phrase (fmt is a string function)</code></strong></em></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">p</span> <span class="attribute">:text</span>=&quot;<span class="string">$i18n.get(&apos;hello&apos;).fmt($page.author)</span>&quot;<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">p</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<h3>Discovering localizations</h3><p>To discover other localized variants for the same page, you can use <code>$page.locales()</code>.</p><p>Refer to the <a href="/docs/superhtml/scripty/">SuperHTML Scripty reference</a> to see how to use the resulting value.</p><p>Consider the following directory structure:</p><pre><code>content
‚îú‚îÄ‚îÄ en-US
‚îÇ   ‚îú‚îÄ‚îÄ about.smd
‚îÇ   ‚îú‚îÄ‚îÄ docs
‚îÇ   ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ index.smd
‚îÇ   ‚îî‚îÄ‚îÄ index.smd
‚îî‚îÄ‚îÄ it-IT
    ‚îú‚îÄ‚îÄ about.smd
    ‚îú‚îÄ‚îÄ pasta.smd
    ‚îú‚îÄ‚îÄ docs.smd
    ‚îî‚îÄ‚îÄ index.smd
</code></pre><ul><li><code>index.smd</code> and <code>about.smd</code> are both respectively matched with their corresponding variant because they have the same path (i.e. <code>en-US/about.smd</code>, <code>it-IT/about.smd</code>).</li><li><code>pasta.smd</code> is not matched with any other page because it has a unique relative path.</li><li><code>docs.smd</code> is not matched with any other page because, even though the resulting url path would be the same as <code>docs/index.smd</code>, the <em>content path</em> is different.</li></ul><p>That said, it is possible to match any page with any other by setting <code>translation_key</code> in the Ziggy frontmatter of each page.</p><p>This last way of matching pages is meant to be used when URL paths are also localized, for example:</p><ul><li><code>https://site.com/en-US/contact-us/</code></li><li><code>https://site.com/it-IT/contattaci/</code></li></ul><p>The following frontmatter key must be set in both ‚Äúcontact us‚Äù pages:</p><pre><code class="ziggy">.<span class="keyword">translation_key</span> = <span class="string">&quot;contact page&quot;</span>
</code></pre>
<p>The translation key can be any string value, as long as it is unique per each localized variant.</p></div>

    </div>
  </body>
</html>